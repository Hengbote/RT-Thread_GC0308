#ifndef APPLICATIONS_GC0308_CONFIG_H_
#define APPLICATIONS_GC0308_CONFIG_H_

typedef enum {
    FRAMESIZE_96X96,            // 96x96
    FRAMESIZE_160x120_QQVGA,    // 160x120
    FRAMESIZE_176x144_QCIF,     // 176x144
    FRAMESIZE_240x176_HQVGA,    // 240x176
    FRAMESIZE_240x240,          // 240x240
    FRAMESIZE_320x240_QVGA,     // 320x240
    FRAMESIZE_400x296_CIF,      // 400x296
    FRAMESIZE_480x320_HVGA,     // 480x320
    FRAMESIZE_640x480_VGA,      // 640x480
    FRAMESIZE_INVALID
} framesize_t;

typedef enum {
    ASPECT_RATIO_4X3,
    ASPECT_RATIO_3X2,
    ASPECT_RATIO_16X10,
    ASPECT_RATIO_5X3,
    ASPECT_RATIO_16X9,
    ASPECT_RATIO_21X9,
    ASPECT_RATIO_5X4,
    ASPECT_RATIO_1X1,
    ASPECT_RATIO_9X16
} aspect_ratio_t;

typedef enum {
    PIXFORMAT_RGB565,    // 2BPP/RGB565
    PIXFORMAT_YUV422,    // 2BPP/YUV422
} pixformat_t;

typedef struct {
        const rt_uint16_t width;            //宽
        const rt_uint16_t height;           //高
        const aspect_ratio_t aspect_ratio;  //长宽比
} resolution_info_t;

static const rt_uint8_t gc0308_sensor_default_regs[][2] = {

    /*
     * P0 (0xfe)
     * Bit[7] (soft_reset): 软复位位，将此位设置为 1 以触发模块的软复位。复位完成后，此位将自动清零。
     * Bit[6:5] (NA): 保留位，无功能。
     * Bit[4] (CISCTL_restart_n): 当此位设置为 0 时，将重新启动 CISCTL。此位在低电平时有效。
     * Bit[3:1] (NA): 保留位，无功能。
     * Bit[0] (page_select): 寄存器页面选择位。通过设置此位，可以在两个寄存器页面之间切换。
     *      * 1'b0: 选择 REGF0 页面，其中包含经常使用的寄存器。
     *      * 1'b1: 选择 REGF1 页面，其中包含其他寄存器。
     * */
    {0xfe, 0x00},

//    /* 0xec 曝光水平
//     * 0x20 默认      */
//    {0xec, 0x20},
//    /* 0x05 0x06 像素数组的起始行
//     * 0x00 默认 */
//    {0x05, 0x00},
//    {0x06, 0x00},
//    /* 0x07 0x08 像素数组的起始列
//     * 0x00 默认 */
//    {0x07, 0x00},
//    {0x08, 0x00},
//    /* 0x07 0x08 定义图像高度
//     * 0x01 0xe8 默认等于十进制488 */
//    {0x09, 0x01},
//    {0x0a, 0xe8},
//    /* 0x0b 0x0c 定义图像宽度
//     * 0x02 0x88 默认 等于十进制648*/
//    {0x0b, 0x02},
//    {0x0c, 0x88},

//    /* VB > vs_st + vs_et (垂直回程时间（VB）)*/
//    /* P0:0x0d vs_st：此寄存器用于设置从帧开始到第一个有效HSYNC信号之间的行时间（以行数表示）
//     * 0x02 默认 */
//    {0x0d, 0x02},

    /* P0:0x0e vs_et： 此寄存器用于设置从最后一个有效HSYNC信号到帧结束之间的行时间（以行数表示）
     * 0x04 默认 */
    {0x0e, 0x02},

    /* P0:0x10 Rsh_width：此寄存器用于设置restg_width[7:4]和sh_width[3:0]
     * x2后分别是HSYNC信号的宽度(可能是Reset Gate（复位门）的宽度和ample-and-Hold（采样保持）的宽度 不太确定)
     * 0x22 默认*/
    {0x10, 0x26},

//    /* P0:0x11 Tsp_width：此寄存器用于设置tx_width[7:2]和space_width[1:0]
//     * tx_width是传输宽度，指示HSYNC信号在一行像素数据传输期间持续的时间
//     * space_width是HSYNC信号之间的间隔宽度，即HSYNC信号之间的空白时间(实际值要x2)
//     * 0x0d 默认*/
//    {0x11, 0x0d},

    /* P0:0x12 Sh_delay：此寄存器用于设置采样保持延迟时间
     * 0x42 默认*/
    {0x12, 0x2a},

//    /* P0:0x13 Row_tail_width：此寄存器用于设置Row_tail_width，用于在特殊应用中生成更多的HSYNC信号
//     * 0x00 默认*/
//    {0x13, 0x00},

    /* P0:0x14 CISCTL_Mode1
     * [7] hsync_always：此位用于控制HSYNC信号的输出模式
     *      1：HSYNC信号始终处于开启状态，不论图像数据是否处于有效传输状态
     *      0：HSYNC信号仅在图像数据处于有效输出状态时开启。在其他时间，HSYNC信号处于关闭状态
     * [6] NA：保留位
     * [5:4] CFA sequence：此两位用于设置CFA（Color Filter Array）序列。
     *      CFA序列是指图像传感器上彩色滤镜阵列的排列顺序。一旦彩色滤镜阵列确定，CFA序列也会相应地确定
     * [3:2] NA：保留位
     * [1] upside down：此位用于控制图像传感器的翻转功能
     *      1：垂直翻转
     *      0：保持正常
     * [0] mirror：此位用于控制图像传感器的镜像功能
     *      1：镜像翻转
     *      0：保持正常
     * */
//    {0x14, 0x10},
    {0x14, 0x13},

    /* P0:0x15 CISCTL_mode2
     * [7:6] output_mode：此两位用于控制图像传感器的输出模式
     *      00：VGA模式，输出分辨率为640x480
     *      01：even skip模式，跳过偶数行和偶数列的像素，用于降低分辨率和帧率
     *      10：CIF模式，输出分辨率为352x288
     *      11：MTD模式，可能是用于特定应用场景的模式，请参阅数据手册了解具体定义
     * [5:2] reserved：保留位
     * [1] new exposure, normal bad frame：此位用于控制在新的曝光值生效后，是否允许输出可能存在曝光不正常的帧
     *      1：新曝光值生效后，输出正常的帧
     *      0：新曝光值生效后，允许输出曝光不正常的帧
     * [0] badframe_en：此位用于控制是否输出质量较差的帧
     *      1：不输出质量较差的帧
     *      0：允许输出质量较差的帧
     * */
    {0x15, 0x0a},

    {0x16, 0x05},
    {0x17, 0x01},
    {0x18, 0x44},
    {0x19, 0x44},
    {0x1a, 0x2a},
    {0x1b, 0x00},
    {0x1c, 0x49},
    {0x1d, 0x9a},
    {0x1e, 0x61},
    {0x1f, 0x00}, //pad drv <=24MHz, use 0x00 is ok

    {0x20, 0x7f},
    {0x21, 0xfa},
    {0x22, 0x57},
    {0x24, 0xa2},   //YCbYCr
    {0x25, 0x0f},
    {0x26, 0x03}, // 0x01
    {0x28, 0x00},
    {0x2d, 0x0a},
    {0x2f, 0x01},
    {0x30, 0xf7},
    {0x31, 0x50},
    {0x32, 0x00},
    {0x33, 0x28},
    {0x34, 0x2a},
    {0x35, 0x28},
    {0x39, 0x04},
    {0x3a, 0x20},
    {0x3b, 0x20},
    {0x3c, 0x00},
    {0x3d, 0x00},
    {0x3e, 0x00},
    {0x3f, 0x00},

    {0x50, 0x14}, // 0x14
    {0x52, 0x41},
    {0x53, 0x80},
    {0x54, 0x80},
    {0x55, 0x80},
    {0x56, 0x80},

    {0x8b, 0x20},
    {0x8c, 0x20},
    {0x8d, 0x20},
    {0x8e, 0x14},
    {0x8f, 0x10},
    {0x90, 0x14},
    {0x91, 0x3c},
    {0x92, 0x50},
//{0x8b,0x10},
//{0x8c,0x10},
//{0x8d,0x10},
//{0x8e,0x10},
//{0x8f,0x10},
//{0x90,0x10},
//{0x91,0x3c},
//{0x92,0x50},

    {0x5d, 0x12},
    {0x5e, 0x1a},
    {0x5f, 0x24},

    {0x60, 0x07},
    {0x61, 0x15},
    {0x62, 0x08}, // 0x08
    {0x64, 0x03}, // 0x03
    {0x66, 0xe8},
    {0x67, 0x86},
    {0x68, 0x82},
    {0x69, 0x18},
    {0x6a, 0x0f},
    {0x6b, 0x00},
    {0x6c, 0x5f},
    {0x6d, 0x8f},
    {0x6e, 0x55},
    {0x6f, 0x38},
    {0x70, 0x15},
    {0x71, 0x33},
    {0x72, 0xdc},
    {0x73, 0x00},
    {0x74, 0x02},
    {0x75, 0x3f},
    {0x76, 0x02},
    {0x77, 0x38}, // 0x47
    {0x78, 0x88},
    {0x79, 0x81},
    {0x7a, 0x81},
    {0x7b, 0x22},
    {0x7c, 0xff},
    {0x93, 0x48}, //color matrix default
    {0x94, 0x02},
    {0x95, 0x07},
    {0x96, 0xe0},
    {0x97, 0x40},
    {0x98, 0xf0},
    {0xb1, 0x40},
    {0xb2, 0x40},
    {0xb3, 0x40}, //0x40
    {0xb6, 0xe0},
    {0xbd, 0x38},
    {0xbe, 0x36},
    {0xd0, 0xCB},
    {0xd1, 0x10},
    {0xd2, 0x90},
    {0xd3, 0x48},
    {0xd5, 0xF2},
    {0xd6, 0x16},
    {0xdb, 0x92},
    {0xdc, 0xA5},
    {0xdf, 0x23},
    {0xd9, 0x00},
    {0xda, 0x00},
    {0xe0, 0x09},
    {0xed, 0x04},
    {0xee, 0xa0},
    {0xef, 0x40},
    {0x80, 0x03},

    {0x9F, 0x10},
    {0xA0, 0x20},
    {0xA1, 0x38},
    {0xA2, 0x4e},
    {0xA3, 0x63},
    {0xA4, 0x76},
    {0xA5, 0x87},
    {0xA6, 0xa2},
    {0xA7, 0xb8},
    {0xA8, 0xca},
    {0xA9, 0xd8},
    {0xAA, 0xe3},
    {0xAB, 0xeb},
    {0xAC, 0xf0},
    {0xAD, 0xF8},
    {0xAE, 0xFd},
    {0xAF, 0xFF},

    {0xc0, 0x00},
    {0xc1, 0x10},
    {0xc2, 0x1c},
    {0xc3, 0x30},
    {0xc4, 0x43},
    {0xc5, 0x54},
    {0xc6, 0x65},
    {0xc7, 0x75},
    {0xc8, 0x93},
    {0xc9, 0xB0},
    {0xca, 0xCB},
    {0xcb, 0xE6},
    {0xcc, 0xFF},
    {0xf0, 0x02},
    {0xf1, 0x01},
    {0xf2, 0x02},
    {0xf3, 0x30},

    {0xf7, 0x04},
    {0xf8, 0x02},
    {0xf9, 0x9f},
    {0xfa, 0x78},

    /*
     * P0 (0xfe)
     * Bit[7] (soft_reset): 软复位位，将此位设置为 1 以触发模块的软复位。复位完成后，此位将自动清零。
     * Bit[6:5] (NA): 保留位，无功能。
     * Bit[4] (CISCTL_restart_n): 当此位设置为 0 时，将重新启动 CISCTL。此位在低电平时有效。
     * Bit[3:1] (NA): 保留位，无功能。
     * Bit[0] (page_select): 寄存器页面选择位。通过设置此位，可以在两个寄存器页面之间切换。
     *      * 1'b0: 选择 REGF0 页面，其中包含经常使用的寄存器。
     *      * 1'b1: 选择 REGF1 页面，其中包含其他寄存器。
     * */
    {0xfe, 0x01},
    {0x00, 0xf5},
    {0x02, 0x20},
    {0x04, 0x10},
    {0x05, 0x08},
    {0x06, 0x20},
    {0x08, 0x0a},
    {0x0a, 0xa0},
    {0x0b, 0x60},
    {0x0c, 0x08},
    {0x0e, 0x44},
    {0x0f, 0x32},
    {0x10, 0x41},
    {0x11, 0x37},
    {0x12, 0x22},
    {0x13, 0x19},
    {0x14, 0x44},
    {0x15, 0x44},
    {0x16, 0xc2},
    {0x17, 0xA8},
    {0x18, 0x18},
    {0x19, 0x50},
    {0x1a, 0xd8},
    {0x1b, 0xf5},
    {0x70, 0x40},
    {0x71, 0x58},
    {0x72, 0x30},
    {0x73, 0x48},
    {0x74, 0x20},
    {0x75, 0x60},
    {0x77, 0x20},
    {0x78, 0x32},
    {0x30, 0x03},
    {0x31, 0x40},
    {0x32, 0x10},
    {0x33, 0xe0},
    {0x34, 0xe0},
    {0x35, 0x00},
    {0x36, 0x80},
    {0x37, 0x00},
    {0x38, 0x04},
    {0x39, 0x09},
    {0x3a, 0x12},
    {0x3b, 0x1C},
    {0x3c, 0x28},
    {0x3d, 0x31},
    {0x3e, 0x44},
    {0x3f, 0x57},
    {0x40, 0x6C},
    {0x41, 0x81},
    {0x42, 0x94},
    {0x43, 0xA7},
    {0x44, 0xB8},
    {0x45, 0xD6},
    {0x46, 0xEE},
    {0x47, 0x0d},
    {0x62, 0xf7},
    {0x63, 0x68},
    {0x64, 0xd3},
    {0x65, 0xd3},
    {0x66, 0x60},

    /*
     * P0 (0xfe)
     * Bit[7] (soft_reset): 软复位位，将此位设置为 1 以触发模块的软复位。复位完成后，此位将自动清零。
     * Bit[6:5] (NA): 保留位，无功能。
     * Bit[4] (CISCTL_restart_n): 当此位设置为 0 时，将重新启动 CISCTL。此位在低电平时有效。
     * Bit[3:1] (NA): 保留位，无功能。
     * Bit[0] (page_select): 寄存器页面选择位。通过设置此位，可以在两个寄存器页面之间切换。
     *      * 1'b0: 选择 REGF0 页面，其中包含经常使用的寄存器。
     *      * 1'b1: 选择 REGF1 页面，其中包含其他寄存器。
     * */
    {0xfe, 0x00},
    {0x01, 0x32},   //frame setting
    {0x02, 0x0c},
    {0x0f, 0x01},
    {0xe2, 0x00},
    {0xe3, 0x78},
    {0xe4, 0x00},
    {0xe5, 0xfe},
    {0xe6, 0x01},
    {0xe7, 0xe0},
    {0xe8, 0x01},
    {0xe9, 0xe0},
    {0xea, 0x01},
    {0xeb, 0xe0},
//    {0xfe, 0x00},
};

#endif /* APPLICATIONS_GC0308_CONFIG_H_ */
